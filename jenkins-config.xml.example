<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <logRotator>
    <daysToKeep>100</daysToKeep>
    <numToKeep>100</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.model.StringParameterDefinition>
          <name>pull</name>
          <description>The pull request number to use</description>
          <defaultValue></defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>sha1</name>
          <description>Internal tracking</description>
          <defaultValue></defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>branch</name>
          <description>The branch the pull is for</description>
          <defaultValue>master</defaultValue>
        </hudson.model.StringParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
    <hudson.plugins.disk__usage.DiskUsageProperty/>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <assignedNode>!win</assignedNode>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <authToken>supersecret</authToken>
  <triggers class="vector"/>
  <concurrentBuild>true</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>source /mnt/jenkins-repository/scripts/common_bash.sh
kill-jboss7

DIR=`pwd`
cd ..
rm -rf $DIR
mkdir $DIR
cd $DIR
git init
git config user.email &quot;jenkins@example.com&quot;
git config user.name &quot;Mr. Jenkins&quot;
git remote add origin git://github.com/jbossas/jboss-as.git
git fetch origin ${branch}:refs/remotes/origin/${branch}
git fetch origin refs/pull/${pull}/head
git checkout FETCH_HEAD
git rebase origin/${branch}

MAVEN_OPTS=&quot;-Xmx1024m -Xms512m -XX:MaxPermSize=128m&quot;
export MAVEN_OPTS

./build.sh install -DallTests -Dskip-download-sources -U -B -Dipv6 -Dnode0=::1 -Dnode1=fccc::2 -DudpGroup=ff01::1 -Dsurefire.forked.process.timeout=90000 || (gzip testsuite/integration/basic/target/jbossas/standalone/log/server.log; exit 1)
touch testsuite/integration/basic/target/jbossas/standalone/log/server.log.gz</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers>
    <hudson.tasks.ArtifactArchiver>
      <artifacts>testsuite/**/*.log.gz</artifacts>
      <latestOnly>false</latestOnly>
    </hudson.tasks.ArtifactArchiver>
    <hudson.tasks.junit.JUnitResultArchiver>
      <testResults>**/target/surefire-reports/*.xml</testResults>
      <keepLongStdio>false</keepLongStdio>
      <testDataPublishers/>
    </hudson.tasks.junit.JUnitResultArchiver>
  </publishers>
  <buildWrappers>
    <hudson.plugins.build__timeout.BuildTimeoutWrapper>
      <timeoutMinutes>120</timeoutMinutes>
      <failBuild>false</failBuild>
    </hudson.plugins.build__timeout.BuildTimeoutWrapper>
  </buildWrappers>
</project>
